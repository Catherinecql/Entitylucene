Make existing PDF searchable ( OCR ) via command line / script <body> I am looking for an offline scriptable tool that makes an existing PDF file searchable by running OCR on it, replacing the original non-searchable file with the searchable version, and can run unattended.  E.g., www.pdfscannerapp.com - does exactly what I need, but it's GUI only - not scriptable.  I am aware that Evernote makes PDF files searchable, but they remain searchable only when within Evernote.  I am not looking for perfect OCR, even a moderately acceptable OCR is fine, but I would prefer a small utility rather than a bulky software package.  (I am aware of a similar, but different question on AD: Looking for Software to Scan or Convert to Searchable and Signable PDF - however, I don't need to sign or fill PDFs, and my requirement is that the solution is scriptable)  EDIT:   1) Several utilities allow structured text extraction, however in order to be extracted, the text must be there; I am mainly referring to PDFs that are wrapped bitmaps, as is the case with plain PDFs generated by scanners.  2) I am not necessarily looking for a free solution, and I would be more than happy to pay for a good utility that just does what I need, but I am not looking for bulky applications with a million features that include an OCR feature but whose cost does not justify buying them just for the OCR functionality.  3) As stated above, I am not looking for perfect OCR, just a moderately acceptable OCR. Unfortunately, in my experience, tesseract is really below that threshold. I define "moderately acceptable" an OCR that can, say, OCR an utility bill so that at least the account number (customer number) is recognized correctly.  EDIT: "scriptable" or "automatable", that is, able to be triggered automatically and run unattended without human input whatsoever.  <answer84328> I would recommend DEVONThink Pro Office.  It is an excellent application and has very good AppleScript support. Alas only the 'Pro Office' version has the OCR capability - so you'll have to shell out £100 ($150).  It would be overkill if you're only using it for scripted OCR - but it's a very good app.  [edit] - ah just re-read your post - it would definitely be overkill!  If you just want OCR from the shell, you could try talking to ABBY whose engine DEVON licences:  http://www.abbyy-developers.com/en:tech:samples:commandline_ocr   <answer84926> strongDisclaimer:/strong emNOT AN OCR SOLUTION (but this answer is still useful to extract text from pdf)/em  There is an Apache Software Foundation project called Apache Tika:     A toolkit detects and extracts metadata and structured text content   from various documents using existing parser libraries   They support PDF text extraction using PDFBox:     allows creation of new PDF documents, manipulation of existing documents and   the ability to extract content from documents. Apache PDFBox also includes   several command line utilities   And they recently also added support for OCR (via Tesserac)  For a text based solution, PDFBox makes very simple to extract text from a PDF:  ul liDownload the codepdfbox-app/code package from https://pdfbox.apache.org/downloads.html/li lirun the codeExtractText/code command on it:  java -jar pdfbox-app-x.y.z.jar ExtractText myNiceBook.pdf myNiceBook.txt/li /ul  It also has some other nice options that you can see in ExtractText docs.  <answer84939> Stackoverflow has related questions under PDF-parsing covering things such as PDFBox and  Apache's TIKA that the PDFBox uses. The ruby code below extracts writing from PDF. You need to have good enough resolution for this type of codes to work robustly. So get a good enough scanner with large resolution and then see if some of the softwares work.  strongExamples/strong  ol lihttps://github.com/yob/pdf-reader/tree/master/examples/li /ol  strongSO threads/strong  ol lihttps://stackoverflow.com/questions/5217783/pdf-parse-to-text-in-java/li lihttps://stackoverflow.com/questions/8149179/alternative-to-tika-pdfbox-for-parsing-pdf-in-solr-any-version-later-than-1-4/li lihttps://stackoverflow.com/questions/320621/ruby-pdf-parsing-gem-library/li lihttps://stackoverflow.com/questions/15186740/haskell-parsing-reading-content-of-pdf-files/li /ol  strong[Edit]/strong   I am not sure whether I understood your problem now. You want to add OCR layer to different kinds of material such as random photos, screenshots, PDFs without OCR layer and so on? I don't know the solution but I am sure someone knows so asked a specific question how to do it with Automator and some OCR software:  Automator-script with an OCR-software to automatically add OCR to material?  <answer90982> PDFScannerApp does have an unofficial scripting support. Contact the author for the Automator action.  <answer90984> It's not entirely clear to me what your requirements are for being able to "script" this from the "command line".  If you are talking about automation, then that is possible with any number of utilities.  h2ABBYY FineReader Express + Keyboard Maestro + Hazel/h2  I use ABBYY FineReader Express + Keyboard Maestro + Hazel like so:  ol liHazel monitors a given folder for any new PDFs/li liif a PDF is found, it is opened in "ABBYY FineReader Express"/li liKeyboard Maestro then automates the process of turning the PDF into a Searchable PDF (OCR) and saves the file to a different directory./li /ol  Now, if you don't own Hazel and Keyboard Maestro already, your initial costs are going to rise pretty quickly (although I depend on both so much I consider them a bargain).  h3PDFPen + AppleScript + Folder Actions/h3  You could do something similar with PDFPen (or PDFPenPro) and folder actions and AppleScript. See https://gist.github.com/prenagha/1355037 for one example.  Marco Arment did a survey of OCR apps for Mac and found that PDFPen had great results and was easy to automate.  A google search for "PDFpen applescript OCR" will turn up a number of alternatives.   <answer130720> What you want is Tesseract OCR. It's an open source OCR that is maintained by Google and supports a variety of platforms.  It also has a native command line interface.  It's exactly what you're looking for and available from the Mac ports project as well as homebrew.   Project Home: https://github.com/tesseract-ocr  How to install on OS X: http://blog.matt-swain.com/post/26419042500/installing-tesseract-ocr-on-mac-os-x-lion  Usage Example: codetesseract -l eng input.pdf output/code  <answer130721> For this type of self-directed application, I'm a big fan of Hazel.  ul lihttp://www.noodlesoft.com/hazel.php/li /ul  It makes it extremely easy to script actions without needing to learn a more command line oriented tool like perl or python and paired with the OCR engine of your choice (mine is currently PDF Pen Pro) you should have no problems getting your files processed with minimal fuss.  ul lihttp://www.smilesoftware.com/PDFpenPro/index.html/li /ul  Both of these are paid software, but the utility of both far extends past this one case. In my situation, with the labor involved in digitizing my past scanned records (and ongoing paper), the price of these far outweighs the time I would have spend programming this elsewhere and now that I own both tools, I can do many other tasks with them.  <answer147936> You can make your existing PDF searchable by converting it into text file. You need for that at least Imagemagick, Ghostscript (for PDF conversion) and Tesseract OCR tool.  Some command-line example:  precode$ wget http://www.fmwconcepts.com/misc_tests/pdf_tests/test.pdf $ convert -density 300 -depth 8 test.pdf test.png $ tesseract test*.png test.txt $ grep -i --color=auto the test*.txt **The** details as told by surviving crew members, to **the** German publication Spiegel and published on ABC's /code/pre  This can be extended further to your needs.  To install required tools, on OSX you may install it via Homebrew:  precodebrew install imagemagick jpeg libpng ghostscript tesseract /code/pre  On Linux use codeapt-get/code or codeyum/code instead of codebrew/code.  For more OCR tools, check: OCR on Linux systems  Related:  ul liDoing OCR Using Command Line Tools in Linux/li liWorking with PDFs Using Command Line Tools in Linux/li /ul  <answer244513> I use Adobe acrobat to OCR in batch. My duplex scanner can OCR after scanning but the OCR technology in acrobat is more accurate in my opinion. I just point to there folder that has no OCR then acrobat re saves the PDF as a searchable PDF now including a text layer. If I wanted to OCR via command line, I don't know of a way but I can automate the GUI end by using Autohotkey. Not as reliable nor fast as command line, but it does the job after you set up a workflow action to minimize the GUI interaction.  For Mac, apple script does what Autohotkey does on the PC although I haven't tried on my Mac yet.  Auto hot key comes with a recorder so most of the script writing is dinner for you with a littler bit of editing for refinement and perhaps looping if you want that.  I've been experimenting OCRing images but haven't automated the process fully yet through acrobat. Command line is ideal but haven't found a quality OCR engine that exceeds acrobat so I stick with acrobat for now.  <answer266260> I stumbled upon this recently:  http://ocrkit.com/faq.html  You have to pay after 14 days though  <comment96935> ...don't know how hard it would be to do but Tesseract OCR often mentioned https://code.google.com/p/tesseract-ocr/ and OCR in [Unix.SE](http://unix.stackexchange.com/questions/tagged/ocr). <comment96939> There is a similar question [here](http://apple.stackexchange.com/questions/24512/best-scriptable-ocr-software-for-osx-for-a-paperless-office), does the answer fit your requirements? <comment96991> You mention OCR. Do your requirements include handling images within PDF, or scanned PDF files? For files that have text within them as simple postscript, then a PDF to text converter like "PDF2Text Pilot" might work for you. <comment96999> @patrix I was looking for a smaller utility, not necessarily free but in a different price range. Still, it's a possible solution, thank you. <comment97001> @TimothyButler unfortunately I'm dealing with scanned PDFs (images). But, nice hint, thank you. <comment97004> @magma Can you please add your extended criteria to the question? <comment97056> Although the DEVONThink Pro Office in OS X is an overkill, it is interesting. If the developers designed it over OS X and iOS, it may though work (keeping the UI more simple) -- do you know anything like that? Cool idea though -- so the Pro version automatically adds the OCR layer to all kind of things such as screenshots and PDFs? And user can somehow "script" it? <comment97060> Yes - the app has a good AppleScript Dictionary, which amongst other things, allows you to convert images stored in the app into searchable PDFs. <comment97076> OCR is pretty broad: big differences in quality of softwares. When you add the linguistic support such as different language support, you can get better quality detection. If you are a student, Adobe Acrobat Pro from Creative Suite costs about 300EUR otherwise alone about 200EUR. I wish there was some preview comparing OCR detection with different types of document: mathematical document, different language etc -- there may be large differences in quality. It may help to specify the language. Also I would rewrite the question, now too extended -- try to make it simpler. <comment97168> Suppose I take pictures with iPhone or screenshots with OS X and put them to a folder ProjectA, does the DEVONThink add the OCR layer automatically to them even without specifying the language? Suppose you put them to a DropBox and then make DEVONThink in OSX to check the folder automatically, you could work with it over OS X and iOS then? It is a fascinating concept if done well... +1 <comment97169> In a way, it sounds like EverNote where EverNote adds the OCR but not allowing its exporting like that. Is it possible to export your projects from this software with the OCR? If not, some very simple OCR lib and then some linguistic analysis lib may work the best. Perhaps the other is ABBY, I don't know yet. <comment97196> It can recognise in several languages:    http://i.stack.imgur.com/buDLI.png <comment97198> By the way - I had a look at this: http://www.malcolmhardie.com/ocr/index.html which uses Tesseract and is openSource - but when I tried OCRing a PNG, rather than a TIFF the results were very poor.  A shame, because it could have been converted into what you want without too much work. <comment97604> What kind of export features does the DEVONThink Pro Office have? Can you export PDFs and other material easily? <comment97663> Do you mean converting the PDF to another format, or just getting the PDFs out of the app?  If it's the latter, then it's easy to get the PDFs out. <comment97664> You can try it for 150 hours and have a play without paying for it, see if it suits you: http://www.devontechnologies.com/products/devonthink/devonthink-pro-office.html <comment97860> Definitely a nice option for extracting text, but there's no OCR capability that I can see. <comment97861> Again: I am not looking to parse or extract text that is already there. I am looking to recognize text (OCR) in PDF file that are essentially images, bitmaps; they do not originally contain any text. <comment97862> @diggory unfortunately my experience with tesseract has been very disappointing too. <comment97863> @patrix I have clarified the requirements. The question you've linked contains a reference to a Marco Arment's blog post with interesting information. I am currently experimenting with PDFPen; still a bit overkill, but closer. <comment97866> @magma OCR means "optical character recognition", there is definitely "OCR capability". Now you need to clarify: is your problem to extract text from poor-resolution image such as generated with VGA cam, poor scanner or distant picture? Then your problem is different and requires physical consideration of things such as super-resolution. Please, ask more specific and shorter questions so they can be answered. I suggest you to simplify this question to one feature you want. If you want something more, ask a new question. <comment97868> @magma please, see my update. You want to automate the addition of OCR layer so you can search over different kinds of documents even without "searchable text"? If you could do this, you could search over all documents in Finder -- you understand? I am surprised if Apple does not do this in coming upgrades... <comment98676> @hhh, one thing is extracting text from a binary file (such as a PDF) so that it is usable and readable, by parsing the binary format. there is nothing optical about it. the text is already there, these utilities just extract it so that it's easy on your eyes, so to speak. optical character recognition is different in that it tries to recognize patterns of pixels in a bitmap and make enough sense of them that it can produce a corresponding text fragment. <comment98677> as stated in my question, yes. <comment106845> There's also http://jocr.sourceforge.net and http://www.gnu.org/software/ocrad/ if you haven't come across them yet. <comment106872> good answer TJ. Hazel is amazing, I own it and I enjoy using it immensely. I don't currently own abbyy/keyboard maestro, but Hazel + PDFPen is an amazing combo. Overall, while all answers here are generally very good, and serve slightly different audiences, I think that Hazel+PDFPen is a good fit for the original problem. Accepted. <comment123795> Devonthink Pro Office scanning is good but the demo only scans so many pages day (the exact extent is undocumented) so it might be kinda hard to test scripting. I suggest working with the smallest documents possible. <comment253022> Nice project. In my tests, recognition was poor, but I'm sure that depends on my inability to fine-tune it. I was looking for a lazier solution, but this might be a fine choice especially if you want more control and can dedicate time to it. <comment273943> This does not answer the original question. AFAICT, pdfbox-app does not do OCR. <comment301355> As of today, I moved to using the Scanbot app on my iPhone, with auto OCR and auto Dropbox upload. Perfect for my workflow. Note that the OCR feature is a paid one in Scanbot. <comment315414> +1 on ABBYYFineReader Express, easily the best OCR out there right now and I've been through nearly a dozen for a project of my own <comment315415> tesseract doesn't get very good compared to more current proprietary apps. In particular it has problems with encoding and math, often churning out lots of greek characters. <comment333883> Welcome to Ask Different!  We're trying to find the best answers and those answers will provide info as to why they're the best. Explain why you think the software you recommended is better than others out there.  In general, link-only answers are susceptible to being deleted so you always want to make your answer inclusive of all relevant info.  See [answer] on how to provide a quality answer.