Why is the HFS Plus attributes file unusually small, for only a while, after using Time Machine to restore a Lion system? <body> Once after using Time Machine in Lion Recovery OS to restore a system, I noticed that the attributes B-tree was unusually small.   Initially I was worried (had Time Machine failed to backup some emthing/em, or failed to backup important emmetadata/em relating to a emnumber/em of files?) but before long, I was reassured:   ul lithe attributes file grew to something like the size it was before erasure. /li /ul  During the period of growth I was vaguely aware of the system being strongbusy at various times/strong. For a restored system: the business didn't surprise me, but from things like Activity Monitor I gained an impression that strongnot much/strong of the business was Spotlight-related, which sparked my curiosity. When I realised that the attributes file had grown so much, I was strongvery/strong puzzled.   Splitting and rephrasing the question:   h1What types of data are written to the attributes file?/h1  Answers to this question might give examples of types of data. From the manual page for codels/code I'm familiar with option code-@/code      Display extended attribute keys and sizes in long (-l) output.   Apple's TN1150 offers technical information, but no examples.   h1Timing: is some of that data written only after documents and other files have been parsed by the System? /h1  In a possibly related question, I wonder whether Quick Look empreview/em data (maybe distinct from emthumbnail/em data) is written to an attributes file:   ul liFor applications that do not store Quick Look information within the file, where does Lion (or a Server) store that information?/li /ul  I have fileXray, and am prepared to use it before and after a future Time Machine restoration of a system, but with a good set of answers to this question I might not need to use it.   h2Reference/h2  Technical Note TN1150: HFS Plus Volume Format: Attributes File (2004) is somewhat vague:      … reserved for implementing named forks in the future. … An attributes   files has a variable length key and three data record types, which   makes it roughly as complex as the catalog file. …      strongIMPORTANT/strong:      The exact organization of the attributes B-tree has not been fully   designed. Specifically:      ul   lithe structure of the keys in the attribute B-tree has not been   finalized and is subject to change, and /li   liaddition attribute's file data record types may be defined. …/li   /ul  