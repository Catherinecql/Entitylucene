Sudden input device hang and automatic reboot after closing the lid <body> MBP (mid 2014 model), Mac OS X 10.10.3. I have two USB input devices: DasKeyboard V4 and Logitech Trackman Marble. strongSuddenly all input devices stopped working including the keyboard and trackpad on the laptop./strong Only power button produced any response (the usual power off dialog popped up). No beach ball, no nothing. This happened twice, and only when I was using it with USB input devices.  This is what was in system.log around the time.  precodeMay 10 12:12:36 zealot kernel[0]: [SendHCIRequestFormatted] ### ERROR: EnqueueRequestForController failed (err=0xe00002bc (kIOReturnError)) for opCode 0x200c (LE Set Scan Enable) May 10 12:12:36 zealot blued[82]: Release the WiFi lock May 10 12:12:36 zealot blued[82]: blued: unable to relinquishBluetoothPagingLockAndReply Error Domain=com.apple.wifi.request.error Code=8 "The operation couldn’t be completed. (com.apple.wifi.request.error error 8.)" May 10 12:12:37 zealot watchdogd[239]: [watchdog_daemon] @(         pm_callback) - ref=0x0 msg_type=0xe0000280 msg=0xd20010 May 10 12:12:37 zealot coreaudiod[223]: 2015-05-10 12:12:37.699439 PM [AirPlay] Power: SystemWillSleep May 10 12:12:37 zealot watchdogd[239]: [watchdog_daemon] @(    wd_daemon_thread) - events buffer: 12r2123 11221s2123 11244r44416 16663s44416 17078r90073 38955s90073 38980r216478 45698s216478 45807r249996 146031s249996 146034r649150 146038s649150 May 10 12:12:37 zealot coreaudiod[223]: 2015-05-10 12:12:37.699532 PM [AirPlay] BTLE client stopping to browse for AirPlay Solo Target Presence. May 10 12:12:37 zealot coreaudiod[223]: 2015-05-10 12:12:37.699999 PM [AirPlay] BTLE discovery removing all devices May 10 12:12:37 zealot wirelessproxd[69]: Failed to stop a scan - central is not powered on: 4 May 10 12:12:37 zealot discoveryd[71]: Basic DNSResolver UDNSServer:: PowerState is DarkWake May 10 12:12:37 zealot coreaudiod[223]: 2015-05-10 12:12:37.700802 PM [AirPlay] BTLE client stopped to browse for AirPlay Solo Target Presence. May 10 12:12:37 zealot identityservicesd[240]: &lt;IMMacNotificationCenterManager: 0x7ff25970e3d0&gt;: notification observer: com.apple.iChat   notification: __CFNotification 0x7ff2597368b0 {name = _NSDoNotDisturbEnabledNotification} /code/pre  Then, I closed/opened the lid, it didn't fix it. So I kept it closed for a while. It automatically rebooted with this message in the log:  precodeMay 10 12:18:56 localhost kernel[0]: System was rebooted due to Sleep/Wake failure /code/pre  Immediately before the reboot, this was the log:  precodeMay 10 12:14:09 zealot locationd[246]: NETWORK: requery, 0, 0, 0, 0, 13, items, fQueryRetries, 0, fLastRetryTimestamp, 452967247.3 May 10 12:14:12 zealot kernel[0]: [SendRawHCICommand] ### ERROR: EnqueueRequestForController failed (err=e00002bc) May 10 12:14:30 --- last message repeated 2 times --- May 10 12:14:30 zealot kernel[0]: [SendHCIRequestFormatted] ### ERROR: EnqueueRequestForController failed (err=0xe00002bc (kIOReturnError)) for opCode 0x200c (LE Set Scan Enable) May 10 12:14:43 --- last message repeated 1 time --- May 10 12:14:43 zealot kernel[0]: [SendRawHCICommand] ### ERROR: EnqueueRequestForController failed (err=e00002bc) May 10 12:15:13 --- last message repeated 4 times --- May 10 12:15:13 zealot kernel[0]: [SendRawHCICommand] ### ERROR: EnqueueRequestForController failed (err=e00002bc) May 10 12:15:31 --- last message repeated 2 times --- May 10 12:15:31 zealot kernel[0]: [SendHCIRequestFormatted] ### ERROR: EnqueueRequestForController failed (err=0xe00002bc (kIOReturnError)) for opCode 0x200c (LE Set Scan Enable) May 10 12:15:31 zealot blued[82]: Release the WiFi lock May 10 12:16:05 zealot netbiosd[19167]: findReachableAddress: Using port 139 family = 33 May 10 12:16:05 zealot kernel[0]: smb1_smb_negotiate: Support for the server FUTCHERIMAGER has been deprecated (PreXP), disconnecting May 10 12:16:38 zealot netbiosd[19167]: findReachableAddress: Using port 139 family = 33 May 10 12:16:38 zealot kernel[0]: smb1_smb_negotiate: Support for the server FUTCHERIMAGER has been deprecated (PreXP), disconnecting May 10 12:17:14 zealot netbiosd[19167]: findReachableAddress: Using port 139 family = 33 May 10 12:17:14 zealot kernel[0]: smb1_smb_negotiate: Support for the server FUTCHERIMAGER has been deprecated (PreXP), disconnecting May 10 12:17:53 zealot netbiosd[19167]: findReachableAddress: Using port 139 family = 33 May 10 12:17:53 zealot kernel[0]: smb1_smb_negotiate: Support for the server FUTCHERIMAGER has been deprecated (PreXP), disconnecting May 10 12:18:08 zealot kernel[0]: Restarting to collect Sleep wake debug logs May 10 12:18:08 zealot kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000310 May 10 12:18:08 zealot kernel[0]: AppleBCM5701Ethernet [en5]: Link down (womp disabled, proxy zeroed) May 10 12:18:08 zealot discoveryd[71]: Basic DNSResolver UDNS Send(): UDP Sendto() failed to DNSNameServer 8.8.4.4 Port 53 errno 49, fd 82, ErrLogCount 1 ResolverIntf:0 May 10 12:18:08 zealot discoveryd[71]: Basic DNSResolver UDNS Send(): UDP Sendto() failed to DNSNameServer 8.8.4.4 Port 53 errno 49, fd 82, ErrLogCount 2 ResolverIntf:0 May 10 12:18:08 zealot discoveryd[71]: Basic DNSResolver UDNS Send(): UDP Sendto() failed to DNSNameServer 8.8.4.4 Port 53 errno 49, fd 82, ErrLogCount 3 ResolverIntf:0 May 10 12:18:08 zealot discoveryd[71]: Basic DNSResolver UDNS Send(): UDP Sendto() failed to DNSNameServer 8.8.4.4 Port 53 errno 49, fd 82, ErrLogCount 4 ResolverIntf:0 May 10 12:18:08 zealot networkd[167]: +[NETLedBelly stopFastFail] Clearing ledbelly failure cache May 10 12:18:08 zealot configd[48]: network changed: v4(en5-:129.49.40.97) DNS- Proxy- SMB- May 10 12:18:08 zealot discoveryd[71]: Basic WABServer NetResolverEvent no resolvers, resetting domains May 10 12:18:08 zealot discoveryd[71]: Basic Bonjour stop listening on en5 May 10 12:18:55 localhost bootlog[0]: BOOT_TIME 1431274735 0 /code/pre  Does anybody have any idea what's going on?  EDIT: Okay, it happened again. I was scrolling down in Chrome using my Trackman Marble left special button, and suddenly all input devices stopped working. Here are the log around this time.  precodeMay 11 16:07:59 zealot kernel[0]: smb1_smb_negotiate: Support for the server FUTCHERIMAGER has been deprecated (PreXP), disconnecting May 11 16:13:41 zealot kernel[0]: Google Chrome He (map: 0xffffff805bb09870) triggered DYLD shared region unnest for map: 0xffffff805bb09870, region 0x7fff87400000-&gt;0x7fff87600000. While not abnormal for debuggers, this increases system memory footprint until the target exits. May 11 16:13:41 zealot kernel[0]: Google Chrome He (map: 0xffffff804a41a690) triggered DYLD shared region unnest for map: 0xffffff804a41a690, region 0x7fff87400000-&gt;0x7fff87600000. While not abnormal for debuggers, this increases system memory footprint until the target exits. May 11 16:13:41 zealot kernel[0]: Google Chrome He (map: 0xffffff803e0171e0) triggered DYLD shared region unnest for map: 0xffffff803e0171e0, region 0x7fff87400000-&gt;0x7fff87600000. While not abnormal for debuggers, this increases system memory footprint until the target exits. May 11 16:14:18 zealot Dock[221]: CGSConnectionByID: 0 is not a valid connection ID. May 11 16:14:18 zealot Dock[221]: Invalid Connection ID 0 May 11 16:14:18 zealot Dock[221]: CGSConnectionByID: 0 is not a valid connection ID. May 11 16:14:18 zealot Dock[221]: Invalid Connection ID 0 May 11 16:14:18 zealot Dock[221]: CGSConnectionByID: 0 is not a valid connection ID. May 11 16:14:18 zealot Dock[221]: Invalid Connection ID 0 May 11 16:14:18 zealot Dock[221]: CGSConnectionByID: 0 is not a valid connection ID. May 11 16:14:18 zealot Dock[221]: Invalid Connection ID 0 May 11 16:14:18 zealot Dock[221]: CGSConnectionByID: 0 is not a valid connection ID. May 11 16:14:18 zealot Dock[221]: Invalid Connection ID 0 May 11 16:14:18 zealot Dock[221]: CGSConnectionByID: 0 is not a valid connection ID. May 11 16:14:18 zealot Dock[221]: Invalid Connection ID 0 May 11 16:14:18 zealot Dock[221]: CGSConnectionByID: 0 is not a valid connection ID. May 11 16:14:18 zealot Dock[221]: Invalid Connection ID 0 May 11 16:14:18 zealot Dock[221]: CGSConnectionByID: 0 is not a valid connection ID. May 11 16:14:18 zealot Dock[221]: Invalid Connection ID 0 May 11 16:16:24 zealot watchdogd[211]: [watchdog_daemon] @(         pm_callback) - ref=0x0 msg_type=0xe0000280 msg=0x90000b May 11 16:16:24 zealot watchdogd[211]: [watchdog_daemon] @(    wd_daemon_thread) - events buffer: 12r1669 7883s1669 7923r35274 17575s35274 17896r82207 45857s82207  May 11 16:16:24 zealot coreaudiod[226]: 2015-05-11 04:16:24.938313 PM [AirPlay] Power: SystemWillSleep May 11 16:16:24 zealot coreaudiod[226]: 2015-05-11 04:16:24.938960 PM [AirPlay] BTLE client stopping to browse for AirPlay Solo Target Presence. May 11 16:16:24 zealot discoveryd[71]: Basic DNSResolver UDNSServer:: PowerState is DarkWake May 11 16:16:24 zealot coreaudiod[226]: 2015-05-11 04:16:24.939688 PM [AirPlay] BTLE discovery removing all devices May 11 16:16:24 zealot coreaudiod[226]: 2015-05-11 04:16:24.940684 PM [AirPlay] BTLE client stopped to browse for AirPlay Solo Target Presence. May 11 16:16:24 zealot blued[82]: Release the WiFi lock May 11 16:16:25 zealot identityservicesd[254]: &lt;IMMacNotificationCenterManager: 0x7fde8e120030&gt;: notification observer: com.apple.iChat   notification: __CFNotification 0x7fde8bd108c0 {name = _NSDoNotDisturbEnabledNotification} May 11 16:16:25 zealot identityservicesd[254]: &lt;IMMacNotificationCenterManager: 0x7fde8e120030&gt;:    NC Disabled: NO May 11 16:16:25 zealot identityservicesd[254]: &lt;IMMacNotificationCenterManager: 0x7fde8e120030&gt;:   DND Enabled: YES May 11 16:16:25 zealot identityservicesd[254]: &lt;IMMacNotificationCenterManager: 0x7fde8e120030&gt;: Updating enabled: NO   (Topics: (     )) May 11 16:16:26 zealot com.apple.xpc.launchd[1] (com.apple.xpc.launchd.domain.user.501): Service "com.apple.xpc.launchd.unmanaged.loginwindow.88" tried to hijack endpoint "com.apple.tsm.uiserver" from owner: com.apple.SystemUIServer.agent May 11 16:16:26 --- last message repeated 1 time --- May 11 16:16:26 zealot kernel[0]: PM response took 1891 ms (381, Core Sync) May 11 16:16:26 zealot WindowServer[146]: CGError post_notification(const CGSNotificationType, void *const, const size_t, const bool, const CGSRealTimeDelta, const int, const CGSConnectionID *const, const pid_t): Timed out 1.000 second wait for reply from "Logitech Control Center Daemon" for synchronous notification type 102 (kCGSDisplayWillSleep) (CID 0x10103, PID 266) May 11 16:16:26 zealot WindowServer[146]: device_generate_desktop_screenshot: authw 0x7fb7eaf56100(2000), shield 0x7fb7ec362290(2001) May 11 16:16:27 zealot WindowServer[146]: device_generate_lock_screen_screenshot: authw 0x7fb7eaf56100(2000)[0, 0, 1440, 900] shield 0x7fb7ec362290(2001), dev [1440,900] May 11 16:16:36 zealot loginwindow[88]: CoreAnimation: warning, deleted thread with uncommitted CATransaction; set CA_DEBUG_TRANSACTIONS=1 in environment to log backtraces. May 11 16:16:54 zealot kernel[0]: PM notification timeout (pid 266, LCCDaemon) May 11 16:16:54 zealot kernel[0]: PM notification timeout (pid 460, Google Chrome He) May 11 16:16:54 zealot kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000340 May 11 16:16:56 --- last message repeated 1 time --- May 11 16:16:56 zealot kernel[0]: PM response took 1980 ms (49, powerd) May 11 16:16:56 zealot kernel[0]: AppleCamIn::systemWakeCall - messageType = 0xE0000280 May 11 16:16:56 zealot kernel[0]: [0x61dd8ac000, 0x40000000] May 11 16:16:56 zealot kernel[0]: [0x0, 0x0] May 11 16:17:05 zealot nsurlstoraged[497]: realpath() returned NULL for /var/root/Library/Caches/ocspd May 11 16:17:05 zealot nsurlstoraged[497]: The read-connection to the DB=/var/root/Library/Caches/ocspd/Cache.db is NOT valid.  Unable to determine schema version. May 11 16:17:05 zealot nsurlstoraged[497]: realpath() returned NULL for /var/root/Library/Caches/ocspd May 11 16:17:05 --- last message repeated 1 time --- May 11 16:17:05 zealot nsurlstoraged[497]: ERROR: unable to determine file-system usage for FS-backed cache at /var/root/Library/Caches/ocspd/fsCachedData. Errno=13 May 11 16:18:41 localhost bootlog[0]: BOOT_TIME 1431375521 0 /code/pre  Especially suspicious lines are:  precodeMay 11 16:16:24 zealot watchdogd[211]: [watchdog_daemon] @(         pm_callback) - ref=0x0 msg_type=0xe0000280 msg=0x90000b May 11 16:16:24 zealot watchdogd[211]: [watchdog_daemon] @(    wd_daemon_thread) - events buffer: 12r1669 7883s1669 7923r35274 17575s35274 17896r82207 45857s82207  /code/pre  which also showed up in previous log:  precodeMay 10 12:12:30 zealot watchdogd[239]: [watchdog_daemon] @(         pm_callback) - ref=0x0 msg_type=0xe0000280 msg=0xd00010 May 10 12:12:30 zealot watchdogd[239]: [watchdog_daemon] @(    wd_daemon_thread) - events buffer: 12r2123 11221s2123 11244r44416 16663s44416 17078r90073 38955s90073 38980r216478 45698s216478 45807r249996 146031s249996 /code/pre  <answer186545> Reading your logs shows:  You are connecting to a server named FUTCHERIMAGER to get your Internet which seems to have some problems with your connection.  Your Bluetooth and your WiFi should be turned off if you do not use them.  It looks like you are using the Airplay, so you might need to turn them on back again.  <answer187109> So I figured it out. It was the strongLogitech Control Center/strong for Marble Trackball. It doesn't leave anything in the system log. The codewatchdogd/code complains every time I close the lid, and it is independent of the input hang phenomenon. I uninstalled LCC 3.9.2.  precodeMay 14 10:06:44 zealot kernel[0]: Google Chrome He (map: 0xffffff8033437b40) triggered DYLD shared region unnest for map: 0xffffff8033437b40, region 0x7fff85200000-&gt;0x7fff85400000. While not abnormal for debuggers, this increases system memory footprint until the target exits. May 14 10:08:32 zealot watchdogd[199]: [watchdog_daemon] @(         pm_callback) - ref=0x0 msg_type=0xe0000280 msg=0x177000a May 14 10:08:32 zealot watchdogd[199]: [watchdog_daemon] @(    wd_daemon_thread) - events buffer: 12r1558 4483s1558 4545r34682 39681s34682 39720r220553 40311s220553 40397r226910 63685s226910 63710r353579 63782s353579 63804r355118 63909s355118 63932r356839 64289s356839 64291r359154 64557s359154 64630r362186 73309s362186 73339r444720 73853s444720 73944r450181 76108s450181 76131r464967 76346s464967 76349r467097 80711s467097 80734r502893 80873s502893 80907r505305 81781s505305 81859r514093 89066s514093 May 14 10:08:32 zealot coreaudiod[223]: 2015-05-14 10:08:32.086745 AM [AirPlay] Power: SystemWillSleep /code/pre  <comment220227> and those devices are USB with cable not Bluetooth ? <comment220232> Unfortunately those logs are not long enough to show I/O devices problems. What is "server FUTCHERIMAGER" ? <comment220243> @Buscar웃 yes, both USB. I don't know what FUTCHERIMAGER is either...google says nothing, so I'm terrified! <comment220244> strange...please turn off your Bluetooth, since it is trying to connect to something. <comment220245> @Buscar웃 thanks for the tip. I turned it off. <comment220248> as for the FUTCHERIMAGER, do you have the Little Snitch app installed ? <comment220251> Are you on some kind of network using a cable ? <comment220253> @Buscar웃 Yes, I'm on ethernet via thunderbolt adapter. No, I don't have Little Snitch app. <comment220255> thanks, then Turn off the WiFi. and that might explain the server named FUTCHERIMAGER :) <comment220256> Now restart and try your test (with lid close/Open again), You might need to turn on the Bluetooth and WiFi later since you are using the Airplay. <comment220259> @Buscar웃 This doesn't happen every time. I can't actually replicate the problem... T_T Thanks for all the suggestions though.